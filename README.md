# Система наград для студентов

![Solidity](https://img.shields.io/badge/Solidity-363636?style=for-the-badge&logo=solidity&logoColor=white)
![Ethereum](https://img.shields.io/badge/Ethereum-3C3C3D?style=for-the-badge&logo=Ethereum&logoColor=white)

Децентрализованное приложение для управления наградами и достижениями студентов, построенное на Solidity.

## 📋 Содержание

- [Возможности](#-возможности)
- [Архитектура](#-архитектура)
- [Структура проекта](#-структура-проекта)
- [Технологии](#-технологии)
- [Установка](#-установка)
- [Использование](#-использование)
- [Безопасность](#-безопасность)
- [Тестирование](#-тестирование)
- [Лицензия](#-лицензия)

## ✨ Возможности

- **Управление ролями пользователей** (Администратор, Преподаватель, Студент)
- **Создание и управление наградами**
- **Отслеживание достижений студентов**
- **Система наград на основе баллов**
- **Логирование всех действий через события**
- **Безопасное хранение данных в блокчейне**
- **Защита от повторного входа и других атак**
- **Эффективное хранение и поиск наград с использованием EnumerableSet**
- **Возможность проверки наличия конкретных наград у студентов**
- **Получение статистики по наградам и достижениям**

## 🏗 Архитектура

Система построена на принципах модульности и разделения ответственности:

### Основные компоненты

1. **Интерфейсы** - определяют контракты взаимодействия между компонентами системы
2. **Менеджеры** - управляют различными аспектами системы (пользователи, достижения, магазин)
3. **Награды** - отвечают за создание, назначение и отслеживание наград
4. **Библиотеки** - предоставляют общие утилиты для работы с данными

### Взаимодействие компонентов

```
┌─────────────────┐     ┌─────────────────┐     ┌─────────────────┐
│  UserManagement │     │  RewardManager  │     │  RewardsToken   │
└────────┬────────┘     └────────┬────────┘     └────────┬────────┘
         │                       │                        │
         │                       │                        │
         ▼                       ▼                        ▼
┌─────────────────┐     ┌─────────────────┐     ┌─────────────────┐
│  AchievementMgmt│     │  ShopManagement │     │  IStudentRewards│
└─────────────────┘     └─────────────────┘     └─────────────────┘
```

### Роли и права доступа

- **Администратор**: полный доступ ко всем функциям системы
- **Преподаватель**: может назначать награды студентам
- **Студент**: может получать награды и просматривать свои достижения

## 📁 Структура проекта

```
├── contracts/
│   ├── interfaces/
│   │   └── IStudentRewards.sol       # Интерфейс системы наград
│   ├── managers/
│   │   ├── UserManagement.sol        # Управление пользователями
│   │   ├── AchievementManagement.sol # Управление достижениями
│   │   └── ShopManagement.sol        # Управление магазином
│   ├── rewards/
│   │   ├── RewardManager.sol         # Управление наградами
│   │   └── RewardsToken.sol          # Токен наград
│   └── libraries/
│       └── ArrayUtils.sol            # Утилиты для работы с массивами
├── scripts/
│   └── deploy.js                     # Скрипт развертывания
├── test/
│   └── StudentRewards.test.js        # Тесты
├── package.json                      # Зависимости проекта
└── README.md                         # Документация
```

## 🛠 Технологии

- **Solidity** - язык программирования для смарт-контрактов
- **Hardhat** - среда разработки для Ethereum
- **OpenZeppelin** - библиотека безопасных смарт-контрактов
  - AccessControl - для управления ролями
  - Pausable - для приостановки контракта
  - ReentrancyGuard - для защиты от повторного входа
  - Counters - для безопасного управления счетчиками
  - EnumerableSet - для эффективного хранения и поиска
- **Ethers.js** - библиотека для взаимодействия с Ethereum
- **Chai** - фреймворк для тестирования

## 🔒 Безопасность

Система реализует несколько уровней защиты:

1. **Контроль доступа** - использование ролей для ограничения доступа к функциям
2. **Защита от повторного входа** - использование модификатора nonReentrant
3. **Возможность приостановки** - использование Pausable для экстренной остановки
4. **Безопасное хранение данных** - использование приватных переменных
5. **Валидация входных данных** - проверка всех входных параметров
6. **Газовые оптимизации** - использование calldata вместо memory для строк

## 📄 Лицензия

Этот проект лицензирован под лицензией MIT - подробности смотрите в файле LICENSE.
